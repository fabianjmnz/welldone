{{> head}}

<!--HEADER-->

{{> header}}

<!--CATEGORY SCROLL BAR-->

{{> carousel}}

<div id='category'></div>

<!--ARTICLE TITLE-->

{{#post}}

<div class="row d-flex py-3"></div>

<div class="row d-flex">
    <div id="articles-category" class="col">
        <h1 id="category-title-text" class="text-light">{{title}}</h1>

        <p id="author-article-text"><a href='/author?a=JB_Wilson'>
            {{user.name}}</a>
        </p>
        <img class="img-fluid" src="{{postImage.imageURL}}">
    </div>
</div>

<div class="row d-flex py-3"></div>

<!--HORIZONTAL LINE-->

<div class="row d-flex">
    <hr class="article-hr">
</div>

<div class="row d-flex py-3"></div>

<!--ARTICLE BODY START-->

<div class="row d-flex">
  <div id="blog-column" class="col">
      <p>
          {{body}}
      </p>

      <p class="post-secondary-text text-light">
          <span id="article-like">
            <form method="POST" action="/notify" {{post.hidden}}>
                <input type="hidden" name="postId" value={{post.id}} />
                <input type="hidden" name="type" value="like" />
                <input type="hidden" name="ownerId" value="{{post.user_id}}" />
                <button class="heart"><i class="heart fa fa-heart-o" ></i></button>
            </form>
          </span> {99} likes
      </p>

<!--ADD COMMENT-->

  <div class="row d-flex">
      <hr class="article-hr">
  </div>

  <div class="row d-flex py-3">
    <h4 id="comments-text">Comments</h4>
  </div>

  <div id="comment-form-div" class="form-group">
    <form action="/article/addComment" method="post">
      <input type="hidden" name="user_id" value="{{sessionUser.id}}">
      <input type="hidden" name="post_id" value="{{post.id}}">
      <input type="hidden" name="ownerId" value={{post.user_id}} />
      <input type="hidden" name="type" value="comment" />
      <input type="hidden" name="user_name" value="{{sessionUser.name}}">
      <textarea class="form-control comment-textbox" name="body" rows="4" cols="80"></textarea>
      <div id="add-comment-button-div">
        <button id="add-comment-button">Comment</button>
      </div>
    </form>
  </div>

<!--COMMENTS START-->

      {{#comment}}
        <div>
          <p><span class="username-comment"><b>{{user.name}}</b></span>, on <span class="date-comment">{{createdAt}}</span></p>
          <p class="body-comment">{{body}}</p>
          <form action="/post/updateComment" method="post" {{hidden}}>
            <input type="hidden" name="comment_id" value="{{id}}">
            <input type="hidden" name="user_id" value="{{user_id}}">
            <input type="hidden" name="user_name" value="{{user.name}}">
            <textarea name="body" rows="8" cols="40"></textarea>
            <div class="comment-buttons-div">
              <button class="comment-buttons">Edit</button>
            </div>
          </form>
          <form action="/post/deleteComment" method="post" {{hidden}}>
            <input type="hidden" name="comment_id" value="{{id}}">
            <div class="comment-buttons-div pb-5">
              <button class="comment-buttons">Remove</button>
            </div>
          </form>
        </div>
      {{/comment}}

      {{^comment}}
        <li>This Post Has No Comments</li>
      {{/comment}}

  </div>
</div>

{{/post}}


<div class="row d-flex py-3"></div>

<!--FOOTER-->

{{> footer}}
